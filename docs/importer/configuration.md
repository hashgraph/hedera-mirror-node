# Importer

The Importer component uses [Spring Boot](https://spring.io/projects/spring-boot) properties to configure the
application. As a result, property files, YAML files, environment variables and command-line arguments can all be used
to configure the application. See the Spring
Boot [documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config)
for the location and order it loads configuration.

The following table lists the available properties along with their default values. Unless you need to set a non-default
value, it is recommended to only populate overridden properties in the custom `application.yml`.

| Name                                                                        | Default                        | Description                                                                                                                                                                                                                                                        |
|-----------------------------------------------------------------------------|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `hedera.mirror.importer.dataPath`                                           | ./data                         | The data directory used to store downloaded files and other application state                                                                                                                                                                                      |
| `hedera.mirror.importer.db.restPassword`                                    | mirror_api_pass                | The database password the API uses to connect.                                                                                                                                                                                                                     |
| `hedera.mirror.importer.db.restUsername`                                    | mirror_api                     | The username the API uses to connect to the database                                                                                                                                                                                                               |
| `hedera.mirror.importer.db.host`                                            | 127.0.0.1                      | The IP or hostname used to connect to the database                                                                                                                                                                                                                 |
| `hedera.mirror.importer.db.loadBalance`                                     | true                           | Whether to enable pgpool load balancing. If false, it sends all reads to the primary db backend instead of load balancing them across the primary and replicas.                                                                                                    |
| `hedera.mirror.importer.db.name`                                            | mirror_node                    | The name of the database                                                                                                                                                                                                                                           |
| `hedera.mirror.importer.db.owner`                                           | mirror_node                    | The username of the db user with owner permissions to create and modify the schema                                                                                                                                                                                 |
| `hedera.mirror.importer.db.ownerPassword`                                   | mirror_node_pass               | The password for the owner user the processor uses to connect.                                                                                                                                                                                                     |
| `hedera.mirror.importer.db.password`                                        | mirror_node_pass               | The database password for the Importer user the processor uses to connect.                                                                                                                                                                                         |
| `hedera.mirror.importer.db.port`                                            | 5432                           | The port used to connect to the database                                                                                                                                                                                                                           |
| `hedera.mirror.importer.db.schema`                                          | public                         | The name of the custom schema database objects will be created in. This is applicable from v2 of the data schema                                                                                                                                                   |
| `hedera.mirror.importer.db.username`                                        | mirror_node                    | The Importer username the processor uses to connect to the database                                                                                                                                                                                                |
| `hedera.mirror.importer.downloader.accessKey`                               | ""                             | The cloud storage access key                                                                                                                                                                                                                                       |
| `hedera.mirror.importer.downloader.allowAnonymousAccess`                    |                                | Whether the cloud storage bucket allows for anonymous access.                                                                                                                                                                                                      |
| `hedera.mirror.importer.downloader.balance.batchSize`                       | 30                             | The number of signature files to download per node before downloading the signed files                                                                                                                                                                             |
| `hedera.mirror.importer.downloader.balance.enabled`                         | true                           | Whether to enable balance file downloads                                                                                                                                                                                                                           |
| `hedera.mirror.importer.downloader.balance.frequency`                       | 30s                            | The fixed period between invocations. Can accept duration units like `10s`, `2m`, etc.                                                                                                                                                                             |
| `hedera.mirror.importer.downloader.balance.persistBytes`                    | false                          | Whether to persist the balance file bytes to the database.                                                                                                                                                                                                         |
| `hedera.mirror.importer.downloader.balance.prefix`                          | accountBalances/balance        | The prefix to search cloud storage for balance files                                                                                                                                                                                                               |
| `hedera.mirror.importer.downloader.balance.threads`                         | 15                             | The number of threads to search for new files to download                                                                                                                                                                                                          |
| `hedera.mirror.importer.downloader.balance.writeFiles`                      | false                          | Whether to write verified stream files to the filesystem.                                                                                                                                                                                                          |
| `hedera.mirror.importer.downloader.balance.writeSignatures`                 | false                          | Whether to write verified signature files to the filesystem.                                                                                                                                                                                                       |
| `hedera.mirror.importer.downloader.bucketName`                              |                                | The cloud storage bucket name to download streamed files. This value takes priority over network hardcoded bucket names regardless of `hedera.mirror.importer.network` value.                                                                                      |
| `hedera.mirror.importer.downloader.cloudProvider`                           | S3                             | The cloud provider to download files from. Either `S3` or `GCP`                                                                                                                                                                                                    |
| `hedera.mirror.importer.downloader.consensusRatio`                          | 0.33333333333                  | The ratio of verified nodes (nodes used to come to consensus on the signature file hash) to total number of nodes available                                                                                                                                        |
| `hedera.mirror.importer.downloader.endpointOverride`                        |                                | Can be specified to download streams from a source other than S3 and GCP. Should be S3 compatible                                                                                                                                                                  |
| `hedera.mirror.importer.downloader.event.batchSize`                         | 100                            | The number of signature files to download per node before downloading the signed files                                                                                                                                                                             |
| `hedera.mirror.importer.downloader.event.enabled`                           | false                          | Whether to enable event file downloads                                                                                                                                                                                                                             |
| `hedera.mirror.importer.downloader.event.frequency`                         | 5s                             | The fixed period between invocations. Can accept duration units like `10s`, `2m`, etc.                                                                                                                                                                             |
| `hedera.mirror.importer.downloader.event.persistBytes`                      | false                          | Whether to persist the event file bytes to the database.                                                                                                                                                                                                           |
| `hedera.mirror.importer.downloader.event.prefix`                            | eventsStreams/events\_         | The prefix to search cloud storage for event files                                                                                                                                                                                                                 |
| `hedera.mirror.importer.downloader.event.threads`                           | 15                             | The number of threads to search for new files to download                                                                                                                                                                                                          |
| `hedera.mirror.importer.downloader.event.writeFiles`                        | false                          | Whether to write verified stream files to the filesystem.                                                                                                                                                                                                          |
| `hedera.mirror.importer.downloader.event.writeSignatures`                   | false                          | Whether to write verified signature files to the filesystem.                                                                                                                                                                                                       |
| `hedera.mirror.importer.downloader.gcpProjectId`                            |                                | GCP project id to bill for requests to GCS bucket which has Requester Pays enabled.                                                                                                                                                                                |
| `hedera.mirror.importer.downloader.maxConcurrency`                          | 1000                           | The maximum number of allowed open HTTP connections. Used by AWS SDK directly.                                                                                                                                                                                     |
| `hedera.mirror.importer.downloader.record.batchSize`                        | 40                             | The number of signature files to download per node before downloading the signed files                                                                                                                                                                             |
| `hedera.mirror.importer.downloader.record.enabled`                          | true                           | Whether to enable record file downloads                                                                                                                                                                                                                            |
| `hedera.mirror.importer.downloader.record.frequency`                        | 500ms                          | The fixed period between invocations. Can accept duration units like `10s`, `2m`, etc.                                                                                                                                                                             |
| `hedera.mirror.importer.downloader.record.persistBytes`                     | false                          | Whether to persist the record file bytes to the database.                                                                                                                                                                                                          |
| `hedera.mirror.importer.downloader.record.prefix`                           | recordstreams/record           | The prefix to search cloud storage for record files                                                                                                                                                                                                                |
| `hedera.mirror.importer.downloader.record.threads`                          | 15                             | The number of threads to search for new files to download                                                                                                                                                                                                          |
| `hedera.mirror.importer.downloader.record.writeFiles`                       | false                          | Whether to write verified stream files to the filesystem.                                                                                                                                                                                                          |
| `hedera.mirror.importer.downloader.record.writeSignatures`                  | false                          | Whether to write verified signature files to the filesystem.                                                                                                                                                                                                       |
| `hedera.mirror.importer.downloader.region`                                  | us-east-1                      | The region associated with the bucket                                                                                                                                                                                                                              |
| `hedera.mirror.importer.downloader.secretKey`                               | ""                             | The cloud storage secret key                                                                                                                                                                                                                                       |
| `hedera.mirror.importer.endDate`                                            | 2262-04-11T23:47:16.854775807Z | The end date (inclusive) of the data to import. Items after this date will be ignored. Format: YYYY-MM-ddTHH:mm:ss.nnnnnnnnnZ                                                                                                                                      |
| `hedera.mirror.importer.importHistoricalAccountInfo`                        | true                           | Import historical account information that occurred before the last stream reset. Skipped if `startDate` is unset or after 2019-09-14T00:00:10Z.                                                                                                                   |
| `hedera.mirror.importer.initialAddressBook`                                 | ""                             | The path to the bootstrap address book used to override the built-in address book                                                                                                                                                                                  |
| `hedera.mirror.importer.leaderElection`                                     | false                          | Whether leader election should be used in Kubernetes environments to ensure only one replica processes data at a time                                                                                                                                              |
| `hedera.mirror.importer.migration.<migrationName>.checksum`                 | 1                              | The checksum of the repeatable migration. Change it to a different value to re-run the migration                                                                                                                                                                   |
| `hedera.mirror.importer.migration.<migrationName>.enabled`                  | true                           | Whether to enable the repeatable migration                                                                                                                                                                                                                         |
| `hedera.mirror.importer.network`                                            | DEMO                           | Which Hedera network to use. Can be either `DEMO`, `MAINNET`, `TESTNET`, `PREVIEWNET` or `OTHER`                                                                                                                                                                   |
| `hedera.mirror.importer.parser.balance.batchSize`                           | 200000                         | The number of balances to store in memory before saving to the database                                                                                                                                                                                            |
| `hedera.mirror.importer.parser.balance.enabled`                             | true                           | Whether to enable balance file parsing                                                                                                                                                                                                                             |
| `hedera.mirror.importer.parser.balance.fileBufferSize`                      | 200000                         | The size of the buffer to use when reading in the balance file                                                                                                                                                                                                     |
| `hedera.mirror.importer.parser.balance.frequency`                           | 100ms                          | How often to poll for new messages. Can accept duration units like `10s`, `2m` etc.                                                                                                                                                                                |
| `hedera.mirror.importer.parser.balance.processingTimeout`                   | 10s                            | The additional timeout to allow after the last balance stream file health check to verify that files are still being processed.                                                                                                                                    |
| `hedera.mirror.importer.parser.balance.queueCapacity`                       | 0                              | How many balance files to queue in memory while waiting to be persisted by the parser                                                                                                                                                                              |
| `hedera.mirror.importer.parser.balance.retry.maxAttempts`                   | 3                              | How many attempts should be made to retry file parsing errors                                                                                                                                                                                                      |
| `hedera.mirror.importer.parser.balance.retry.maxBackoff`                    | 10s                            | The maximum amount of time to wait between retries                                                                                                                                                                                                                 |
| `hedera.mirror.importer.parser.balance.retry.minBackoff`                    | 250ms                          | The minimum amount of time to wait between retries                                                                                                                                                                                                                 |
| `hedera.mirror.importer.parser.balance.retry.multiplier`                    | 2                              | Used to generate the next delay for backoff                                                                                                                                                                                                                        |
| `hedera.mirror.importer.parser.balance.transactionTimeout`                  | 300s                           | The timeout in seconds for a database transaction                                                                                                                                                                                                                  |
| `hedera.mirror.importer.parser.bufferSize`                                  | 32768                          | The size of the byte buffer to allocate for each batch                                                                                                                                                                                                             |
| `hedera.mirror.importer.parser.event.enabled`                               | false                          | Whether to enable event file parsing                                                                                                                                                                                                                               |
| `hedera.mirror.importer.parser.event.frequency`                             | 100ms                          | How often to poll for new messages                                                                                                                                                                                                                                 |
| `hedera.mirror.importer.parser.event.processingTimeout`                     | 10s                            | The additional timeout to allow after the last event stream file health check to verify that files are still being processed.                                                                                                                                      |
| `hedera.mirror.importer.parser.event.queueCapacity`                         | 10                             | How many event files to queue in memory while waiting to be persisted by the parser                                                                                                                                                                                |
| `hedera.mirror.importer.parser.event.retry.maxAttempts`                     | Integer.MAX_VALUE              | How many attempts should be made to retry file parsing errors                                                                                                                                                                                                      |
| `hedera.mirror.importer.parser.event.retry.maxBackoff`                      | 10s                            | The maximum amount of time to wait between retries                                                                                                                                                                                                                 |
| `hedera.mirror.importer.parser.event.retry.minBackoff`                      | 250ms                          | The minimum amount of time to wait between retries                                                                                                                                                                                                                 |
| `hedera.mirror.importer.parser.event.retry.multiplier`                      | 2                              | Used to generate the next delay for backoff                                                                                                                                                                                                                        |
| `hedera.mirror.importer.parser.event.transactionTimeout`                    | 30s                            | The timeout in seconds for a database transaction                                                                                                                                                                                                                  |
| `hedera.mirror.importer.parser.exclude`                                     | []                             | A list of filters that determine which transactions are ignored. Takes precedence over include                                                                                                                                                                     |
| `hedera.mirror.importer.parser.exclude.entity`                              | []                             | A list of entity IDs to ignore in shard.realm.num (e.g. 0.0.3) format                                                                                                                                                                                              |
| `hedera.mirror.importer.parser.exclude.transaction`                         | []                             | A list of transaction types to ignore. See `TransactionType.java` for possible values                                                                                                                                                                              |
| `hedera.mirror.importer.parser.include`                                     | []                             | A list of filters that determine which transactions are stored                                                                                                                                                                                                     |
| `hedera.mirror.importer.parser.include.entity`                              | []                             | A list of entity IDs to store in shard.realm.num (e.g. 0.0.3) format                                                                                                                                                                                               |
| `hedera.mirror.importer.parser.include.transaction`                         | []                             | A list of transaction types to store. See `TransactionType.java` for possible values                                                                                                                                                                               |
| `hedera.mirror.importer.parser.record.enabled`                              | true                           | Whether to enable record file parsing                                                                                                                                                                                                                              |
| `hedera.mirror.importer.parser.record.entity.notify.enabled`                | false                          | Whether to use PostgreSQL Notify to send topic messages to the gRPC process                                                                                                                                                                                        |
| `hedera.mirror.importer.parser.record.entity.notify.maxJsonPayloadSize`     | 8000                           | Max number of bytes for json payload used in pg_notify of db inserts                                                                                                                                                                                               |
| `hedera.mirror.importer.parser.record.entity.persist.claims`                | false                          | Persist claim data to the database                                                                                                                                                                                                                                 |
| `hedera.mirror.importer.parser.record.entity.persist.contracts`             | true                           | Persist contract data to the database                                                                                                                                                                                                                              |
| `hedera.mirror.importer.parser.record.entity.persist.contractResults`       | true                           | Persist contract results data to the database                                                                                                                                                                                                                      |
| `hedera.mirror.importer.parser.record.entity.persist.cryptoTransferAmounts` | true                           | Persist crypto transfer amounts to the database                                                                                                                                                                                                                    |
| `hedera.mirror.importer.parser.record.entity.persist.ethereumTransactions`  | true                           | Persist all ethereum transactions data to the database                                                                                                                                                                                                             |
| `hedera.mirror.importer.parser.record.entity.persist.files`                 | true                           | Persist all file data to the database                                                                                                                                                                                                                              |
| `hedera.mirror.importer.parser.record.entity.persist.nonFeeTransfers`       | false                          | Persist non-fee transfers for transactions that explicitly request hbar transfers                                                                                                                                                                                  |
| `hedera.mirror.importer.parser.record.entity.persist.pendingReward`         | true                           | Calculate pending reward and update entity stake state                                                                                                                                                                                                             |
| `hedera.mirror.importer.parser.record.entity.persist.schedules`             | true                           | Persist schedule transactions to the database                                                                                                                                                                                                                      |
| `hedera.mirror.importer.parser.record.entity.persist.systemFiles`           | true                           | Persist only system files (number lower than `1000`) to the database                                                                                                                                                                                               |
| `hedera.mirror.importer.parser.record.entity.persist.tokens`                | true                           | Persist token data to the database                                                                                                                                                                                                                                 |
| `hedera.mirror.importer.parser.record.entity.persist.topics`                | true                           | Persist topic messages to the database                                                                                                                                                                                                                             |
| `hedera.mirror.importer.parser.record.entity.persist.trackBalance`          | true                           | Track entity balance changes and persist to the database                                                                                                                                                                                                           |
| `hedera.mirror.importer.parser.record.entity.persist.transactionBytes`      | false                          | Persist raw transaction bytes to the database                                                                                                                                                                                                                      |
| `hedera.mirror.importer.parser.record.entity.persist.transactionSignatures` | SCHEDULECREATE, SCHEDULESIGN   | A list of transaction types whose transaction signatures will be stored                                                                                                                                                                                            |
| `hedera.mirror.importer.parser.record.entity.redis.enabled`                 | true                           | Whether to use Redis to send messages to the gRPC process. Requires `spring.redis.*` [properties](https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#data-properties)                                             |
| `hedera.mirror.importer.parser.record.entity.redis.queueCapacity`           | 8                              | The size of the queue used to buffer topic messages between parser and redis publisher threads                                                                                                                                                                     |
| `hedera.mirror.importer.parser.record.entity.sql.batchSize`                 | 20_000                         | When inserting transactions into db, executeBatches() is called every these many transactions                                                                                                                                                                      |
| `hedera.mirror.importer.parser.record.entity.sql.enabled`                   | true                           | Whether to use PostgreSQL Copy mechanism to insert into the database                                                                                                                                                                                               |
| `hedera.mirror.importer.parser.record.frequency`                            | 100ms                          | How often to poll for new messages. Can accept duration units like `10s`, `2m` etc.                                                                                                                                                                                |
| `hedera.mirror.importer.parser.record.partialDataAction`                    | ERROR                          | The action for partial data. Where `DEFAULT` will replace the unknown values with defaults appropriate for its data type, `ERROR` will throw exception, and `SKIP` will omit the data if possible or the entire transaction.                                       |
| `hedera.mirror.importer.parser.record.processingTimeout`                    | 10s                            | The additional timeout to allow after the last record stream file health check to verify that files are still being processed.                                                                                                                                     |
| `hedera.mirror.importer.parser.record.pubsub.topicName`                     |                                | Pubsub topic to publish transactions to                                                                                                                                                                                                                            |
| `hedera.mirror.importer.parser.record.pubsub.maxSendAttempts`               | 5                              | Number of attempts when sending messages to PubSub (only for retryable errors)                                                                                                                                                                                     |
| `hedera.mirror.importer.parser.record.queueCapacity`                        | 10                             | How many record files to queue in memory while waiting to be persisted by the parser                                                                                                                                                                               |
| `hedera.mirror.importer.parser.record.retry.maxAttempts`                    | Integer.MAX_VALUE              | How many attempts should be made to retry file parsing errors                                                                                                                                                                                                      |
| `hedera.mirror.importer.parser.record.retry.maxBackoff`                     | 10s                            | The maximum amount of time to wait between retries                                                                                                                                                                                                                 |
| `hedera.mirror.importer.parser.record.retry.minBackoff`                     | 250ms                          | The minimum amount of time to wait between retries                                                                                                                                                                                                                 |
| `hedera.mirror.importer.parser.record.retry.multiplier`                     | 2                              | Used to generate the next delay for backoff                                                                                                                                                                                                                        |
| `hedera.mirror.importer.parser.record.sidecar.enabled`                      | false                          | Whether to download and read sidecar record files                                                                                                                                                                                                                  |
| `hedera.mirror.importer.parser.record.sidecar.persistBytes`                 | false                          | Whether to persist the sidecar file bytes to the database                                                                                                                                                                                                          |
| `hedera.mirror.importer.parser.record.sidecar.types`                        | []                             | Which types of transaction sidecar records to process. By default it is empty to indicate all types                                                                                                                                                                |
| `hedera.mirror.importer.parser.record.transactionTimeout`                   | 30s                            | The timeout in seconds for a database transaction                                                                                                                                                                                                                  |
| `hedera.mirror.importer.parser.tempTableBufferSize`                         | 256                            | The size of the buffer in MB to use for temporary tables                                                                                                                                                                                                           |
| `hedera.mirror.importer.reconciliation.cron`                                | 0 0 0 * * *                    | When to run the balance reconciliation job. Defaults to once a day at midnight. See Spring [docs](https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#scheduling-cron-expression).                                                |
| `hedera.mirror.importer.reconciliation.delay`                               | 1s                             | How much time to wait in between balance files                                                                                                                                                                                                                     |
| `hedera.mirror.importer.reconciliation.enabled`                             | true                           | Whether the balance reconciliation job should periodically run to reconcile data.                                                                                                                                                                                  |
| `hedera.mirror.importer.reconciliation.endDate`                             | 2262-04-11T23:47:16.854775807Z | The consensus timestamp of the last balance file to reconcile.                                                                                                                                                                                                     |
| `hedera.mirror.importer.reconciliation.remediationStrategy`                 | FAIL                           | The strategy to use to handle errors. Can be ACCUMULATE, RESET, or FAIL. ACCUMULATE and RESET will both proceed after an error, but RESET will correct the balances while ACCUMULATE does not                                                                      |
| `hedera.mirror.importer.reconciliation.startDate`                           | 1970-01-01T00:00:00Z           | The consensus timestamp of the first balance file to reconcile.                                                                                                                                                                                                    |
| `hedera.mirror.importer.reconciliation.token`                               | false                          | Whether to reconcile token information.                                                                                                                                                                                                                            |
| `hedera.mirror.importer.retention.batchPeriod`                              | 1d                             | How often to commit deletions when pruning.                                                                                                                                                                                                                        |
| `hedera.mirror.importer.retention.enabled`                                  | false                          | Whether to data retention should be enabled to purge older data.                                                                                                                                                                                                   |
| `hedera.mirror.importer.retention.exclude`                                  | []                             | Which tables to exclude when pruning data. By default it is empty to indicate no tables will be excluded from retention.                                                                                                                                           |
| `hedera.mirror.importer.retention.frequency`                                | 1d                             | How often to run the retention job to purge older data. If it is already running from a previous period, skip execution.                                                                                                                                           |
| `hedera.mirror.importer.retention.include`                                  | []                             | Which tables to include when pruning data. By default it is empty to indicate all tables that can be pruned will be.                                                                                                                                               |
| `hedera.mirror.importer.retention.period`                                   | 90d                            | How far in the past to remove data. This value is relative to the timestamp of the last transaction in the database and not to the current time.                                                                                                                   |
| `hedera.mirror.importer.topicRunningHashV2AddedTimestamp`                   | Network-based                  | Unix timestamp (in nanos) of first topic message with v2 as running hash version. Use this config to override the default network based value                                                                                                                      |
| `hedera.mirror.importer.shard`                                              | 0                              | The default shard number that the component participates in                                                                                                                                                                                                        |
| `hedera.mirror.importer.startDate`                                          |                                | The start date (inclusive) of the data to import. It takes effect 1) if it's set and the date is after the last downloaded file or the database is empty; 2) if it's not set and the database is empty, it defaults to now. Format: YYYY-MM-ddTHH:mm:ss.nnnnnnnnnZ |
| `hedera.mirror.importer.startBlockNumber`                                   | null                           | The block number that will be set as the downloaded stream files starting index.                                                                                                                                                                                   |
| `hedera.mirror.importer.verifyHashAfter`                                    | 1970-01-01T00:00:00Z           | Skip hash verification for stream files linked by hash until after (and not including) this point of time. Format: YYYY-MM-ddTHH:mm:ss.nnnnnnnnnZ                                                                                                                  |

## Examples on how to configure the Mirror Node to only record transactions certain entities and transaction types

### Example 1: only two particular entities, all transaction types
Specify the following property in the `application.yml` file:
    `hedera.mirror.importer.parser.include.entity`:`[0.0.3,0.0.950]`

### Example 2: all entities, only transaction types involving smart contracts
Specify the following property in the `application.yml` file:
    `hedera.mirror.importer.parser.include.transaction`:`[CONTRACTCALL,CONTRACTCREATEINSTANCE,CONTRACTDELETEINSTANCE,CONTRACTUPDATEINSTANCE]`

## Export transactions to PubSub

Importer can be configured to publish transactions (in json format) to a Pubsub topic using following properties:

- `spring.cloud.gcp.pubsub.enabled`
- `spring.cloud.gcp.pubsub.project-id`
- `hedera.mirror.importer.parser.record.pubsub.topicName`
- `spring.cloud.gcp.pubsub.credentials.*`
- `hedera.mirror.importer.parser.record.entity.enabled` (Importer can not export to both database and pubsub
  simultaneously)

See [Spring Cloud documentation](https://cloud.spring.io/spring-cloud-static/spring-cloud-gcp/1.2.2.RELEASE/reference/html/#pubsub-configuration)
for more info about `spring.cloud.gcp.*` properties.

## Connect to S3 with the Default Credentials Provider

When connecting to an AWS S3 bucket that requires authentication (such as a requester pays bucket), you can opt to allow
the AWS Default Credentials Provider Chain to handle the authentication for you, instead of providing your static access
and secret keys in the config. This will also allow you to take advantage of alternative authorization modes such as
[AssumeRole](https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html). If the mirror node is configured
to connect to an S3 bucket that requires authenticaion, and the static credentials are not provided in the config, the
mirror node will default to using this provider. For more information and to see how you can set up your environment to
take advantage of this, see
[the AWS Credentials Documentation](https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/credentials.html)
When running in Docker or Kubernetes, credentials can be attached in a variety of ways, including by using volumes and
secrets to directly add static credentials or an existing AWS credentials file, by using other tools such as Vault or
AWS Secrets Manager, and many more.

`Docker-compose.yml`

```yaml
volumes:
  - ~/.aws/:/root/.aws:ro
```

