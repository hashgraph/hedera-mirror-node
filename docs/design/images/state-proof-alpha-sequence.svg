<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1703" height="944"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1703" height="944"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="614.903727359601" y="26.3876361" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">State Proof Alpha REST API Sequence Diagram</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 27.536029151660156 138.71100709899997 L 27.536029151660156 944.4134960190001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.3419745034831 138.71100709899997 L 475.3419745034831 944.4134960190001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1452.0596019842123 138.71100709899997 L 1452.0596019842123 944.4134960190001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1666.2059523456708 138.71100709899997 L 1666.2059523456708 944.4134960190001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 37.563330869660156 64.29787329699998 A 10.027301717999999 10.027301717999999 0 1 1 37.56332585600971 64.2878459969532 M 27.536029151660156 74.32517501499997 L 27.536029151660156 95.78711904299996 M 14.869963823660157 82.06554827099998 L 40.202094479660154 82.06554827099998 M 27.536029151660156 95.78711904299996 L 14.869963823660157 115.84172247899997 M 27.536029151660156 95.78711904299996 L 40.202094479660154 115.84172247899997" stroke-miterlimit="10" stroke-width="2.990598758" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="8.7958787" y="133.43347987899998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 434.6658140257526 91.21326211899998 L 516.0181349812135 91.21326211899998 L 516.0181349812135 138.71100709899997 L 434.6658140257526 138.71100709899997 L 434.6658140257526 91.21326211899998 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="453.7528708047526" y="121.119249699" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Server</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1401.5946002589233 91.21326211899998 L 1502.5246037095014 91.21326211899998 L 1502.5246037095014 138.71100709899997 L 1401.5946002589233 138.71100709899997 L 1401.5946002589233 91.21326211899998 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1420.6816570379233" y="121.119249699" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Database</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1638.1532583596395 91.21326211899998 L 1694.258646331702 91.21326211899998 L 1694.258646331702 138.71100709899997 L 1638.1532583596395 138.71100709899997 L 1638.1532583596395 91.21326211899998 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1657.2403151386395" y="121.119249699" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">S3</text></g></g><g><g><g><rect fill="white" stroke="none" x="109.46242388651693" y="173.89452189899995" width="283.9531558821094" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="112.10118749651693" y="189.72710355899997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET /transactions/:transactionId/stateproof</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 27.536029151660156 196.76380651899996 L 472.4100149368164 196.76380651899996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(475.3419745034831,196.76380651899996) translate(-475.3419745034831,-196.76380651899996)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 460.6821766701497 189.43390760233328 L 475.3419745034831 196.76380651899996 L 460.6821766701497 204.09370543566664 Z"/></g></g><g><g><rect fill="white" stroke="none" x="496.1588874268164" y="223.15144261899997" width="150.3239902326953" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="498.79765103681643" y="238.98402427899998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">validate transaction ID</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.3419745034831 246.02072723899997 L 545.709004103483 246.02072723899997 L 545.709004103483 268.89001185899997 L 478.2739340701497 268.89001185899997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(475.3419745034831,268.89001185899997) translate(-475.3419745034831,-268.89001185899997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 490.00177233681643 261.5601129423333 L 475.3419745034831 268.89001185899997 L 490.00177233681643 276.2199107756666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="732.8910956787696" y="295.277647959" width="461.6193851301563" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="735.5298592887696" y="311.110229619" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">query transaction table for consensus_ns of the successful transaction</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.3419745034831 318.14693257899995 L 1449.1276424175458 318.14693257899995" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1452.0596019842123,318.14693257899995) translate(-1452.0596019842123,-318.14693257899995)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1437.399804150879 310.8170336623333 L 1452.0596019842123 318.14693257899995 L 1437.399804150879 325.4768314956666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="855.9332251953712" y="344.53456867899996" width="215.53512609695312" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="858.5719888053711" y="360.367150339" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">consensus_ns of the transaction</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1452.0596019842123 367.40385329899993 L 478.2739340701497 367.40385329899993" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(475.3419745034831,367.40385329899993) translate(-475.3419745034831,-367.40385329899993)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 490.00177233681643 360.0739543823333 L 475.3419745034831 367.40385329899993 L 490.00177233681643 374.7337522156666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="731.2661567139259" y="393.79148939899994" width="464.8692630598438" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="733.9049203239258" y="409.62407105899996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">query record_file table for the record file which contains the transaction</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.3419745034831 416.6607740189999 L 1449.1276424175458 416.6607740189999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1452.0596019842123,416.6607740189999) translate(-1452.0596019842123,-416.6607740189999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1437.399804150879 409.33087510233327 L 1452.0596019842123 416.6607740189999 L 1437.399804150879 423.99067293566657 Z"/></g></g><g><g><rect fill="white" stroke="none" x="908.5065741943946" y="443.0484101189999" width="110.38842809890625" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="911.1453378043946" y="458.88099177899994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">record file name</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1452.0596019842123 465.9176947389999 L 478.2739340701497 465.9176947389999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(475.3419745034831,465.9176947389999) translate(-475.3419745034831,-465.9176947389999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 490.00177233681643 458.58779582233325 L 475.3419745034831 465.9176947389999 L 490.00177233681643 473.24759365566655 Z"/></g></g><g><g><rect fill="white" stroke="none" x="496.1588874268164" y="492.30533083899996" width="935.0838016340625" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="498.79765103681643" y="508.137912499" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">query address_book table and address_book_entry table (start_consensus_timestamp &lt;= consensus_ns) order by start_consensus_timestamp</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.3419745034831 515.1746154589999 L 1449.1276424175458 515.1746154589999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1452.0596019842123,515.1746154589999) translate(-1452.0596019842123,-515.1746154589999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1437.399804150879 507.8447165423333 L 1452.0596019842123 515.1746154589999 L 1437.399804150879 522.5045143756666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="708.4172187256446" y="541.562251559" width="510.5671390364063" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="711.0559823356446" y="557.3948332189999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">address books and corresponding nodes (file_data, node_count, list of nodes)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1452.0596019842123 564.431536179 L 478.2739340701497 564.431536179" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(475.3419745034831,564.431536179) translate(-475.3419745034831,-564.431536179)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 490.00177233681643 557.1016372623333 L 475.3419745034831 564.431536179 L 490.00177233681643 571.7614350956667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="877.444525986452" y="590.819172279" width="386.65887487625" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="880.083289596452" y="606.651753939" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">download signature files from nodes in latest address book</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.3419745034831 613.688456899 L 1663.2739927790042 613.688456899" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1666.2059523456708,613.688456899) translate(-1666.2059523456708,-613.688456899)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1651.5461545123374 606.3585579823333 L 1666.2059523456708 613.688456899 L 1651.5461545123374 621.0183558156667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="954.0407631690692" y="640.076092999" width="233.46640051101562" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="956.6795267790692" y="655.908674659" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">content of requested signature files</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1666.2059523456708 662.945377619 L 478.2739340701497 662.945377619" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(475.3419745034831,662.945377619) translate(-475.3419745034831,-662.945377619)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 490.00177233681643 655.6154787023333 L 475.3419745034831 662.945377619 L 490.00177233681643 670.2752765356668 Z"/></g></g><g><g><rect fill="white" stroke="none" x="496.1588874268164" y="689.3330137190001" width="458.3553470442188" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="498.79765103681643" y="705.165595379" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">check if the number of signature files can prove consensus is reached</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.3419745034831 712.202298339 L 545.709004103483 712.202298339 L 545.709004103483 735.071582959 L 478.2739340701497 735.071582959" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(475.3419745034831,735.071582959) translate(-475.3419745034831,-735.071582959)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 490.00177233681643 727.7416840423333 L 475.3419745034831 735.071582959 L 490.00177233681643 742.4014818756667 Z"/></g></g><g><g><rect fill="white" stroke="none" x="990.3077462012958" y="761.459219059" width="160.9324344465625" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="992.9465098112958" y="777.291800719" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">download the record file</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.3419745034831 784.328503679 L 1663.2739927790042 784.328503679" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1666.2059523456708,784.328503679) translate(-1666.2059523456708,-784.328503679)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1651.5461545123374 776.9986047623333 L 1666.2059523456708 784.328503679 L 1651.5461545123374 791.6584025956668 Z"/></g></g><g><g><rect fill="white" stroke="none" x="989.495291977663" y="810.7161397790001" width="162.55734289382812" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="992.1340555876629" y="826.548721439" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">content of the record file</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1666.2059523456708 833.5854243990001 L 478.2739340701497 833.5854243990001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(475.3419745034831,833.5854243990001) translate(-475.3419745034831,-833.5854243990001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 490.00177233681643 826.2555254823334 L 475.3419745034831 833.5854243990001 L 490.00177233681643 840.9153233156668 Z"/></g></g><g><g><rect fill="white" stroke="none" x="48.35294207499349" y="859.9730604990001" width="406.1721195051563" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="50.99170568499349" y="875.8056421590001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">JSON response (record file + address books + signature files)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.3419745034831 882.8423451190001 L 30.467988718326822 882.8423451190001" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(27.536029151660156,882.8423451190001) translate(-27.536029151660156,-882.8423451190001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 42.19582698499349 875.5124462023334 L 27.536029151660156 882.8423451190001 L 42.19582698499349 890.1722440356668 Z"/></g></g></g><g/><g/><g/><g/></g></svg>