{{- if .Values.zfs.enabled -}}
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: openebs-zfspv
reclaimPolicy: Retain
volumeBindingMode:  WaitForFirstConsumer
parameters:
  recordsize: "{{ .Values.zfs.parameters.recordsize }}"
  fstype: "{{ .Values.zfs.parameters.fstype }}"
  poolname: "{{ .Values.zfs.parameters.poolname }}"
  compression: "{{ .Values.zfs.parameters.compression }}"
provisioner: zfs.csi.openebs.io
{{- end -}}